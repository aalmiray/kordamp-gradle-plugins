
[[_org_kordamp_gradle_source]]
= SourceJar

[horizontal]
id:: `org.kordamp.gradle.source-jar`
class:: `org.kordamp.gradle.plugin.source.SourceJarPlugin`
    (link:api/org/kordamp/gradle/plugin/source/SourceJarPlugin.html[groovydoc],
     link:api-html/org/kordamp/gradle/plugin/source/SourceJarPlugin.html[source])
applies:: `<<_org_kordamp_gradle_base,org.kordamp.gradle.base>>`
applied by:: `<<_org_kordamp_gradle_project,org.kordamp.gradle.project>>` +
`<<_org_kordamp_gradle_publishing,org.kordamp.gradle.publishing>>`

Packages the project's source code into a single JAR file.

[[_org_kordamp_gradle_source_dsl]]
== DSL

[source,groovy]
[subs="+macros"]
----
config {
    artifacts {
        source {
            enabled
            emty
            <<_source_aggregate,aggregate>> {
                enabled
                empty
                excludedProjects
            }
        }
    }
}
----

[options="header", cols="5*"]
|===
| Name    | Type    | Required | Default Value | Description
| enabled | boolean | no       | true          | Disables `org.kordamp.gradle.source-jar` plugin if `false`
| empty   | boolean | no       | false         | Generates an empty JAR if `true`.
|===

This block is optional.

[[_source_aggregate]]
*aggregate*

[options="header", cols="5*"]
|===
| Name             | Type         | Required | Default Value | Description
| enabled          | boolean      | no       | true          | Enables or disables aggregation
| empty            | boolean      | no       | false         | Generates an empty JAR if `true`.
| excludedProjects | Set<Project> |          | []            | Projects in the set are excluded from aggregation
|===

This block should be configured on the root project.

[[_org_kordamp_gradle_source_tasks]]
== Tasks

[[_task_aggregate_sources_jar]]
=== AggregateSourcesJar

Collects the results of the `sourcesJar` tasks. +
This task is added to the root project.

[horizontal]
Name:: aggregateSourcesJar
Type:: `org.gradle.api.tasks.bundling.Jar`

.Properties
[horizontal]
destinationDir:: `${rootProject.buildDir}/build/libs`

[[_task_sources_jar]]
=== SourcesJar

An archive of the source code.

[horizontal]
Name:: sourcesJar
Type:: `org.gradle.api.tasks.bundling.Jar`

.Properties
[horizontal]
classifier:: sources
destinationDir:: `${project.buildDir}/build/libs`
from:: `project.sourceSets.main.allSource`
